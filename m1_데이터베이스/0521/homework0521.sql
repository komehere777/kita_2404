DROP TABLE STUDENT;
DROP TABLE PROFESSOR;
DROP TABLE DEPARTMENT;
DROP TABLE GRADE;
DROP TABLE SUBJECT;
 
CREATE TABLE STUDENT (
    STUDENTNUMBER NUMBER PRIMARY KEY,
    DepartmentID NUMBER,
    name VARCHAR2(20),
    birth DATE,
    SX VARCHAR2(20),
    phone VARCHAR2(20) NOT NULL,
    FOREIGN KEY (DepartmentID) REFERENCES DEPARTMENT(DepartmentID)
);

CREATE TABLE Department (
    DepartmentID NUMBER PRIMARY KEY,
    DepartmentName VARCHAR2(100) NOT NULL,
    GraduationCredits NUMBER
);

CREATE TABLE Professor (
    ProfessorID NUMBER PRIMARY KEY,
    ProfessorName VARCHAR2(100) NOT NULL,
    DepartmentID NUMBER,
    Salary NUMBER,
    FOREIGN KEY (DepartmentID) REFERENCES Department(DepartmentID)
);

CREATE TABLE GRADE (
    GRADEINDEX NUMBER PRIMARY KEY,
    STUDENTNUMBER NUMBER,
    SUBJECTID NUMBER,
    GRADE NUMBER,
    FOREIGN KEY (STUDENTNUMBER) REFERENCES STUDENT(STUDENTNUMBER),
    FOREIGN KEY (SUBJECTID) REFERENCES SUBJECT(SUBJECTID)
);  

CREATE TABLE SUBJECT (
    SUBJECTID NUMBER PRIMARY KEY,
    SUBJECTNAME VARCHAR2(50),
    SUBSCORE NUMBER,
    PROFESSORID NUMBER,
    DEPARTMENTID NUMBER,
    FOREIGN KEY (PROFESSORID) REFERENCES PROFESSOR(ProfessorID),
    FOREIGN KEY (DEPARTMENTID) REFERENCES DEPARTMENT(DepartmentID)
);

INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117201, 1, '김정규', '1996-06-13', '남', '010-7777-1234');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117202, 1, '박지민', '1997-08-21', '여', '010-8888-5678');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117203, 1, '이민호', '1995-03-12', '남', '010-9999-4321');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117204, 1, '최유리', '1998-12-25', '여', '010-6666-8765');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117205, 1, '정해인', '1996-09-07', '남', '010-5555-2345');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117206, 1, '홍길동', '1997-04-11', '남', '010-4444-1111');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117207, 1, '이영희', '1996-05-22', '여', '010-3333-2222');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117208, 1, '김철수', '1995-06-17', '남', '010-2222-3333');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117209, 1, '박민지', '1998-07-23', '여', '010-1111-4444');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117210, 1, '최동욱', '1996-08-14', '남', '010-1234-5678');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117211, 1, '한지영', '1997-09-05', '여', '010-8765-4321');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117212, 1, '오승준', '1995-10-15', '남', '010-9876-5432');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117213, 1, '서은지', '1998-11-25', '여', '010-7654-3210');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117214, 1, '유상철', '1996-12-19', '남', '010-6543-2109');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117215, 1, '강미영', '1997-01-29', '여', '010-5432-1098');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117216, 2, '임현수', '1995-02-18', '남', '010-4321-0987');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117217, 2, '정민호', '1996-03-27', '남', '010-3210-9876');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117218, 2, '최은지', '1997-04-14', '여', '010-2109-8765');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117219, 2, '김유정', '1995-05-09', '여', '010-1098-7654');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117220, 2, '박성호', '1996-06-13', '남', '010-0987-6543');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117221, 2, '이정훈', '1997-07-22', '남', '010-9876-5432');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117222, 2, '남지훈', '1996-08-15', '남', '010-5678-1234');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117223, 2, '김하늘', '1997-09-10', '여', '010-8765-4321');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117224, 2, '박세준', '1998-10-20', '남', '010-3456-7890');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117225, 2, '이유미', '1995-11-11', '여', '010-2345-6789');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117226, 2, '최성훈', '1996-12-22', '남', '010-1234-5678');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117227, 2, '한예진', '1997-01-30', '여', '010-8765-4321');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117228, 2, '정지우', '1998-03-15', '여', '010-5678-9101');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117229, 2, '박진호', '1995-05-20', '남', '010-2345-6780');
INSERT INTO STUDENT (STUDENTNUMBER, DepartmentID, NAME, BIRTH, SX, PHONE) VALUES
(202117230, 2, '김다현', '1996-07-25', '여', '010-0987-6543');
SELECT * FROM STUDENT;

--
INSERT INTO DEPARTMENT (DepartmentID, DepartmentName, GraduationCredits) VALUES 
(1, '영어영문학과', 130);
INSERT INTO DEPARTMENT (DepartmentID, DepartmentName, GraduationCredits) VALUES 
(2, '컴퓨터공학과', 130);
SELECT * FROM DEPARTMENT;

--
INSERT INTO PROFESSOR (ProfessorID, ProfessorName, DepartmentID, Salary) VALUES
(1, '유정훈', 1, 5000);
INSERT INTO PROFESSOR (ProfessorID, ProfessorName, DepartmentID, Salary) VALUES
(2, '김민수', 2, 5200);
INSERT INTO PROFESSOR (ProfessorID, ProfessorName, DepartmentID, Salary) VALUES
(3, '박지영', 1, 4800);
INSERT INTO PROFESSOR (ProfessorID, ProfessorName, DepartmentID, Salary) VALUES
(4, '최영희', 2, 5100);
INSERT INTO PROFESSOR (ProfessorID, ProfessorName, DepartmentID, Salary) VALUES
(5, '이동수', 1, 5300);
INSERT INTO PROFESSOR (ProfessorID, ProfessorName, DepartmentID, Salary) VALUES
(6, '한지훈', 2, 4700);
SELECT * FROM PROFESSOR;

--
INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME, SUBSCORE, PROFESSORID, DEPARTMENTID) VALUES
(1,'영문법기초', 3, 1, 1);
INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME, SUBSCORE, PROFESSORID, DEPARTMENTID) VALUES
(2,'영어학', 3, 2, 1);
INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME, SUBSCORE, PROFESSORID, DEPARTMENTID) VALUES
(3,'영미문학', 3, 3, 1);
INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME, SUBSCORE, PROFESSORID, DEPARTMENTID) VALUES
(4,'파이썬', 3, 4, 2);
INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME, SUBSCORE, PROFESSORID, DEPARTMENTID) VALUES
(5,'데이터베이스', 3, 5, 2);
INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME, SUBSCORE, PROFESSORID, DEPARTMENTID) VALUES
(6,'인공지능', 3, 6, 2);
SELECT * FROM SUBJECT;

INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(1, 202117201, 1, 3.6); 
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(2, 202117201, 2, 4.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(3, 202117201, 3, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(4, 202117202, 1, 3.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(5, 202117202, 2, 4.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(6, 202117202, 3, 2.3);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(7, 202117203, 1, 3.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(8, 202117203, 2, 2.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(9, 202117203, 3, 4.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(10, 202117204, 1, 4.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(11, 202117204, 2, 3.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(12, 202117204, 3, 2.6);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(13, 202117205, 1, 2.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(14, 202117205, 2, 2.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(15, 202117205, 3, 3.6);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(16, 202117206, 1, 3.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(17, 202117206, 2, 3.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(18, 202117206, 3, 4.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(19, 202117207, 1, 4.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(20, 202117207, 2, 4.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(21, 202117207, 3, 3.6);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(22, 202117208, 1, 3.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(23, 202117208, 2, 3.6);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(24, 202117208, 3, 3.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(25, 202117209, 1, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(26, 202117209, 2, 2.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(27, 202117209, 3, 2.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(28, 202117210, 1, 3.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(29, 202117210, 2, 2.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(30, 202117210, 3, 4.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(31, 202117211, 1, 3.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(32, 202117211, 2, 2.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(33, 202117211, 3, 3.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(34, 202117212, 1, 3.3);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(35, 202117212, 2, 4.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(36, 202117212, 3, 2.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(37, 202117213, 1, 3.9);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(38, 202117213, 2, 2.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(39, 202117213, 3, 3.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(40, 202117214, 1, 3.6);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(41, 202117214, 2, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(42, 202117214, 3, 4.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(43, 202117215, 1, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(44, 202117215, 2, 2.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(45, 202117215, 3, 3.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(46, 202117216, 4, 2.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(47, 202117216, 5, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(48, 202117216, 6, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(49, 202117217, 4, 2.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(50, 202117217, 5, 3.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(51, 202117217, 6, 4.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(52, 202117218, 4, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(53, 202117218, 5, 3.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(54, 202117218, 6, 4.3);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(55, 202117219, 4, 3.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(56, 202117219, 5, 3.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(57, 202117219, 6, 4.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(58, 202117220, 4, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(59, 202117220, 5, 2.9);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(60, 202117220, 6, 2.3);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(61, 202117221, 4, 4.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(62, 202117221, 5, 3.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(63, 202117221, 6, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(64, 202117222, 4, 2.3);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(65, 202117222, 5, 2.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(66, 202117222, 6, 3.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(67, 202117223, 4, 3.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(68, 202117223, 5, 3.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(69, 202117223, 6, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(70, 202117224, 4, 3.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(71, 202117224, 5, 2.2);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(72, 202117224, 6, 3.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(73, 202117225, 4, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(74, 202117225, 5, 4.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(75, 202117225, 6, 2.9);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(76, 202117226, 4, 2.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(77, 202117226, 5, 2.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(78, 202117226, 6, 3.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(79, 202117227, 4, 2.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(80, 202117227, 5, 3.7);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(81, 202117227, 6, 2.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(82, 202117228, 4, 3.5);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(83, 202117228, 5, 3.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(84, 202117228, 6, 4.0);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(85, 202117229, 4, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(86, 202117229, 5, 2.8);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(87, 202117229, 6, 2.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(88, 202117230, 4, 2.4);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(89, 202117230, 5, 4.1);
INSERT INTO GRADE (GRADEINDEX, STUDENTNUMBER, SUBJECTID, GRADE) VALUES
(90, 202117230, 6, 4.0);
select * from grade;

select student.studentnumber, student.name,subject.subjectname, grade.grade
from student
join grade on student.studentnumber = grade.studentnumber
join subject on subject.subjectid = grade.subjectid;

--각 학과의 학생 수를 조회하는 쿼리
SELECT d.DepartmentName, COUNT(s.STUDENTNUMBER) AS StudentCount
FROM STUDENT s
JOIN Department d ON s.DepartmentID = d.DepartmentID
GROUP BY d.DepartmentName;

--각 학생의 학점 평균을 조회하는 쿼리
SELECT s.name, round(AVG(g.GRADE),2) AS AverageGrade
FROM STUDENT s
JOIN GRADE g ON s.STUDENTNUMBER = g.STUDENTNUMBER
GROUP BY s.name;

--각 교수의 강의 과목 수를 조회하는 쿼리
SELECT p.ProfessorName, COUNT(sub.SUBJECTID) AS SubjectCount
FROM Professor p
JOIN SUBJECT sub ON p.ProfessorID = sub.PROFESSORID
GROUP BY p.ProfessorName;

--각 과목별로 수강한 학생 수를 조회하는 쿼리
SELECT sub.SUBJECTNAME, COUNT(g.STUDENTNUMBER) AS StudentCount
FROM SUBJECT sub
JOIN GRADE g ON sub.SUBJECTID = g.SUBJECTID
GROUP BY sub.SUBJECTNAME;

--특정 학과의 평균 학점을 조회하는 쿼리 (예: 컴퓨터공학과)
SELECT d.DepartmentName, round(AVG(g.GRADE),2) AS AverageGrade
FROM GRADE g
JOIN STUDENT s ON g.STUDENTNUMBER = s.STUDENTNUMBER
JOIN Department d ON s.DepartmentID = d.DepartmentID
WHERE d.DepartmentName = '컴퓨터공학과'
GROUP BY d.DepartmentName;

-- 학과별로 평점이 2.5 이하인 학생을 찾기 위한 SQL 쿼리
SELECT d.DepartmentName, s.name, ROUND(AVG(g.GRADE),2) AS AverageGrade
FROM STUDENT s
JOIN GRADE g ON s.STUDENTNUMBER = g.STUDENTNUMBER
JOIN Department d ON s.DepartmentID = d.DepartmentID
GROUP BY d.DepartmentName, s.name
HAVING AVG(g.GRADE) <= 2.5;

--각 과목별 상위 3등 학생을 보여주는 쿼리
WITH RankedGrades AS (
    SELECT 
        g.SUBJECTID,
        g.STUDENTNUMBER,
        g.GRADE,
        ROW_NUMBER() OVER (PARTITION BY g.SUBJECTID ORDER BY g.GRADE DESC) AS Rank
    FROM 
        GRADE g
)
SELECT 
    sub.SUBJECTNAME,
    s.name AS StudentName,
    r.GRADE
FROM 
    RankedGrades r
JOIN 
    STUDENT s ON r.STUDENTNUMBER = s.STUDENTNUMBER
JOIN 
    SUBJECT sub ON r.SUBJECTID = sub.SUBJECTID
WHERE 
    r.Rank <= 3
ORDER BY 
    sub.SUBJECTNAME, r.Rank;

--과목별 꼴찌 학생을 학과, 과목, 이름, 학점으로 보여주는 쿼리
WITH RankedGrades AS (
    SELECT 
        g.SUBJECTID,
        g.STUDENTNUMBER,
        g.GRADE,
        ROW_NUMBER() OVER (PARTITION BY g.SUBJECTID ORDER BY g.GRADE ASC) AS Rank
    FROM 
        GRADE g
)
SELECT 
    d.DepartmentName,
    sub.SUBJECTNAME,
    s.name AS StudentName,
    r.GRADE
FROM 
    RankedGrades r
JOIN 
    STUDENT s ON r.STUDENTNUMBER = s.STUDENTNUMBER
JOIN 
    SUBJECT sub ON r.SUBJECTID = sub.SUBJECTID
JOIN 
    Department d ON s.DepartmentID = d.DepartmentID
WHERE 
    r.Rank = 1
ORDER BY 
    sub.SUBJECTNAME;

